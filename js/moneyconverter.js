/* 作者：QYZQ 时间：2016.12.12 */function isNumberExist(num){var numberList=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖");if(numberList.indexOf(num)<0)return false;else return true}function isWeightExist(wei){var weightList=new Array("分","角","个","拾","佰","仟","万","亿");if(weightList.indexOf(wei)<0)return false;else return true}function getNumber(num){var numberSample=new Array("零","0","壹","1","贰","2","叁","3","肆","4","伍","5","陆","6","柒","7","捌","8","玖","9");return Number(numberSample[numberSample.indexOf(num)+1])}function getWeight(wei){var weightSample=new Array("分","0.01","角","0.1","个","1","拾","10","佰","100","仟","1000","万","10000","亿","100000000");return Number(weightSample[weightSample.indexOf(wei)+1])}function Calculate(str,unit){if(isWeightExist(str.charAt(0))){if(isNumberExist(str.charAt(1))){return getWeight(str.charAt(0))*getNumber(str.charAt(1))*unit}else{return-1}}if(isNumberExist(str.charAt(0))){if(isWeightExist(str.charAt(1))){getNumber(str.charAt(0))*getWeight(str.charAt(1))*unit}else{return-1}}return-1}function preWork(str){var res=new Array();str=str.split("").reverse().join("").replace(/零/g,"").replace(/元/g,"").replace(/整/g,"");while(str.length>0){if(isNumberExist(str.charAt(0))){res.push("个");res.push(str.charAt(0));str=str.substring(1);continue}if(isWeightExist(str.charAt(0))){res.push(str.charAt(0));str=str.substring(1)}else{return""}if(isWeightExist(str.charAt(0))){if(getWeight(res[res.length-1])>getWeight(str.charAt(0))){res.push("零");continue}else{return""}}res.push(str.charAt(0));str=str.substring(1)}return res.join("")}function Parse(str){var sum=0;var currentWeight=0;var baseWeight=1;if(str=="")return-1;while(str.length>0){if(str.charAt(0)=="万"||str.charAt(0)=="亿"){baseWeight=baseWeight*10000;str="个"+str.substring(1)}var temp=Calculate(str.substring(0,2),baseWeight);if(temp>=0)sum+=temp;else return-1;str=str.substring(2)}return sum}function run(txt){return Parse(preWork(txt))}